# Визуализация и обработка данных кластеров

## 1. Визуализация данных

### Импорт в Excel
1. **Открытие файла**:
   - Откройте текстовый файл с данными.
2. **Выделение столбцов**:
   - Выделите столбцы, содержащие координаты точек.
3. **Вставка диаграммы**:
   - Вставьте диаграмму типа "Точечная".
4. **Настройка осей**:
   - Настройте шаги осей, дважды кликнув по соответствующей оси.

### Подготовка данных
- **Проверка формата**:
  - Убедитесь, что файл начинается с числовых данных.
- **Замена разделителей**:
  - Замените все запятые на точки для корректного чтения вещественных чисел.
- **Сохранение изменений**:
  - Сохраните изменения в файле перед дальнейшей обработкой.

---

## 2. Обработка кластеров

### Разделение кластеров
1. **Визуальное определение границ**:
   - Определите границы кластеров на основе графика.
2. **Использование линий разделения**:
   - Используйте прямые линии для разделения плоскости.
   - Избегайте пересечений линий с точками данных.

### Особые случаи
- **Удаление аномалий**:
  - Используйте условия `if` для исключения выбросов из данных.
- **Разбиение сложных кластеров**:
  - Сложные кластеры разделяйте на более простые геометрические формы.
- **Повторное разделение**:
  - Повторяйте процесс для оставшихся точек, если необходимо.

---

## 3. Пример реализации

### Обработка данных

#### Обработка файла A (2 кластера)
```python
# Инициализация двух пустых кластеров
clustersA = [[], []]

# Чтение данных из файла и распределение точек по кластерам
for line in open('758a.txt'):
    x, y = map(float, line.strip().split())  # Парсинг координат
    
    # Распределение по кластерам
    if x < 3:  # Первый кластер
        clustersA[0].append((x, y))
    else:      # Второй кластер
        clustersA[1].append((x, y))
```

#### Обработка файла B (3 кластера + фильтрация аномалий)
```python
# Инициализация трех пустых кластеров
clustersB = [[], [], []]

# Чтение данных из файла
for line in open('758b.txt'):
    x, y = map(float, line.strip().split())
    
    # Фильтрация аномалий
    if (x > 5 and y > 4) or (x < -2 and y < 2):
        continue  # Пропускаем выбросы
    
    # Распределение по кластерам
    elif (x > 7 and y < 5) or (x < 3 and y > 0):  # Кластер 0
        clustersB[0].append((x, y))
    elif x > 4:  # Кластер 1
        clustersB[1].append((x, y))
    else:        # Кластер 2
        clustersB[2].append((x, y))
```

### Функционал для анализа кластеров

#### Расчет расстояния между точками
```python
# Функция для вычисления расстояния между двумя точками
def dist(point1, point2):
    x1, y1 = point1
    x2, y2 = point2
    return ((x1 - x2)**2 + (y1 - y2)**2)**0.5
```

#### Поиск центра кластера
```python
# Функция для нахождения центра кластера
def find_center(cluster):
    distances = []
    for current_point in cluster:
        # Сумма расстояний от текущей точки до всех остальных
        total_distance = sum(dist(current_point, p) for p in cluster)
        distances.append((total_distance, current_point))
    
    # Возвращаем точку с минимальной суммарной дистанцией
    return min(distances)[1]
```

### Анализ результатов

#### Нахождение центров кластеров
```python
# Находим центры для всех кластеров
centersA = [find_center(cluster) for cluster in clustersA]
centersB = [find_center(cluster) for cluster in clustersB]
```

#### Расчет средних значений координат центров

Для файла A (2 кластера):
```python
# Рассчитываем средние значения координат центров
avg_x_a = sum(x for x, y in centersA) / 2
avg_y_a = sum(y for x, y in centersA) / 2
print(int(avg_x_a), int(avg_y_a))
```

Для файла B (3 кластера):
```python
# Рассчитываем средние значения координат центров
avg_x_b = sum(x for x, y in centersB) / 3
avg_y_b = sum(y for x, y in centersB) / 3
print(int(avg_x_b), int(avg_y_b))
```
